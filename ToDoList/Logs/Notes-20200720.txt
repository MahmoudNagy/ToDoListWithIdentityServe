2020-07-20 00:04:38.878 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 00:04:39.305 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 00:06:20.776 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:06:21.028 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:06:21.118 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 00:06:21.127 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "8941a7cf76d8442d8a098709791aaaf1", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "8941a7cf76d8442d8a098709791aaaf1"), ("code_challenge": "MVI_qVAG8hMPBa5ifIRZKRg4PZznmOFgaYsVGyRkV_U"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 00:06:21.152 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000021-0002-f500-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:06:21, ProcessId: 13672, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:06:26.172 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:06:26.233 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:06:26.236 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 00:08:39.640 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
2020-07-20 00:08:40.231 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****KAV4" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000015-0002-f600-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:08:40, ProcessId: 13672, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:08:45.077 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:08:45.105 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:08:45.169 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000013-0000-ff00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:08:45, ProcessId: 13672, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:08:45.565 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "g8xWyi_oLsI8X4skT7HN_4r0J_iRHisr4Ujc1zvKAV4", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "g8xWyi_oLsI8X4skT7HN_4r0J_iRHisr4Ujc1zvKAV4"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "dfc0ff633dec4213b50d9c00e4ab805512fc8e4e745643e9ab19ccdba8e29a2fb0405ab39cde4af39b18cf799f78d27c"), ("grant_type": "authorization_code")] }
2020-07-20 00:08:45.887 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****vRNA" }, Token { TokenType: "access_token", TokenValue: "****euqg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000013-0000-ff00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:08:45, ProcessId: 13672, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:08:45.961 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:08:45.985 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:08:46.037 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:08:46.187 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:09:27.930 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:27.973 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:27.980 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:28.029 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:09:28.065 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:09:28.083 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:09:28.108 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:09:41.312 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:41.345 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:41.352 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:09:41.391 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:09:41.405 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:09:41.424 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:09:41.453 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:11:03.554 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 00:11:03.873 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 00:11:30.837 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:11:31.102 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:11:31.913 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****ZZUU" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000016-0001-f400-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:11:31, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:11:36.503 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:11:36.511 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:11:36.534 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "8000000f-0003-fe00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:11:36, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:11:36.650 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "andDB17VFDBNh2X2sABPpNyAHB4gYGzKU1nIUIlZZUU", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "andDB17VFDBNh2X2sABPpNyAHB4gYGzKU1nIUIlZZUU"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "d4bebde5a5514b13a51572261788a2fde4c6503fa42d4834a2a507d5eea9bc1ba9e24dac566a4395afcd2b6018a922ee"), ("grant_type": "authorization_code")] }
2020-07-20 00:11:36.807 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****ge9Q" }, Token { TokenType: "access_token", TokenValue: "****UjiQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "8000000f-0003-fe00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:11:36, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:11:36.854 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:11:36.879 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:11:36.891 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:11:36.997 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:12:28.718 +02:00 [Information] Invoking IdentityServer endpoint: "Microsoft.AspNetCore.ApiAuthorization.IdentityServer.AutoRedirectEndSessionEndpoint" for "/connect/endsession"
2020-07-20 00:12:28.802 +02:00 [Information] End session request validation success
EndSessionRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", PostLogOutUri: "https://localhost:44337/authentication/logout-callback", State: "758e54ebbf404759a3f7463755e6ccd6", Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "https://localhost:44337/authentication/logout-callback"), ("state": "758e54ebbf404759a3f7463755e6ccd6")] }
2020-07-20 00:12:38.240 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:12:38.306 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:12:38.308 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 00:12:38.313 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "a11f2cebd52a4791aab190fdcf4ec285", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "a11f2cebd52a4791aab190fdcf4ec285"), ("code_challenge": "453yTH7A9EzGB1qrQvmttjABgKu6MSjVQI5tVOimyUY"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 00:12:38.315 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000030-0000-fa00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:12:38, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:12:43.141 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:12:43.206 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:12:43.207 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 00:13:29.901 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:13:29.957 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:13:29.981 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****0nM0" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "8000001c-0000-fb00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:13:29, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:13:34.472 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:13:34.483 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:13:34.485 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000030-0001-f700-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:13:34, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:13:34.496 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "klbHvLdze2IJbb1lCPYauL-pNVNDfw95O3oz4Ni0nM0", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "klbHvLdze2IJbb1lCPYauL-pNVNDfw95O3oz4Ni0nM0"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "cbf6435ba87b4507af45815f8f35f5989cd90defb0a74b22bc875e021e9b9332238db8a3e55140dda232e4eb9c597a40"), ("grant_type": "authorization_code")] }
2020-07-20 00:13:34.502 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****E2_Q" }, Token { TokenType: "access_token", TokenValue: "****lhlA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000030-0001-f700-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:13:34, ProcessId: 14392, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:13:34.510 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:13:34.515 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:13:34.524 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:13:34.553 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:13:45.050 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ToDoList.Services.Services.Interface.INotesService' while attempting to activate 'ToDoList.Controllers.NotesApiController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 00:15:06.536 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 00:15:06.944 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 00:16:05.718 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:16:06.173 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:16:07.575 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****UZHI" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "8000002a-0000-fe00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:16:07, ProcessId: 11180, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:16:12.263 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:16:12.277 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:16:12.317 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "8000002d-0002-f500-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:16:12, ProcessId: 11180, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:16:12.467 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "uq5BfOOK-bHu6qsPTfnOTVdjRTCIIvVHJosmZoNUZHI", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "uq5BfOOK-bHu6qsPTfnOTVdjRTCIIvVHJosmZoNUZHI"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "8f20383619d84a6fa149dc6726c96b0abffaa0069e1746c8bd584dbdb570118320d765078e464f06b5f6b741e5e7d67e"), ("grant_type": "authorization_code")] }
2020-07-20 00:16:12.724 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****wevQ" }, Token { TokenType: "access_token", TokenValue: "****KZxQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "8000002d-0002-f500-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:16:12, ProcessId: 11180, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:16:12.774 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:16:12.798 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:16:12.813 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:04.070 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:04.131 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:04.132 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:04.142 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:04.249 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:04.301 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:40.930 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:40.963 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:40.972 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:19:41.015 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:41.037 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:19:41.062 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:21:22.948 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 00:21:23.439 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 00:22:09.201 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:22:09.284 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:22:09.946 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****6Ou0" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000034-0000-fb00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:22:09, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:22:14.419 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:22:14.443 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:22:14.455 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000027-0000-ff00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:22:14, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:22:14.511 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "ZkZCMa8Qzx5O21AAOl6wfGu3K-G0C5yk84vXuFk6Ou0", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "ZkZCMa8Qzx5O21AAOl6wfGu3K-G0C5yk84vXuFk6Ou0"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "b678860b1d704ebaa775dff053520c00d7cec2d9a4ec4ca1985b057807ceca69e1b9264b5ed14a4a8cadb0f874541e90"), ("grant_type": "authorization_code")] }
2020-07-20 00:22:14.610 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****ertA" }, Token { TokenType: "access_token", TokenValue: "****5zfg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000027-0000-ff00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:22:14, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:22:14.654 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:22:14.681 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:22:14.693 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:22:34.826 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:22:34.870 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:22:34.875 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:22:34.955 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:22:34.967 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:22:34.976 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:26.114 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:24:26.158 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:24:26.163 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:24:26.219 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:26.230 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:26.258 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:32.124 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:32.154 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:32.185 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:24:33.650 +02:00 [Information] Invoking IdentityServer endpoint: "Microsoft.AspNetCore.ApiAuthorization.IdentityServer.AutoRedirectEndSessionEndpoint" for "/connect/endsession"
2020-07-20 00:24:33.689 +02:00 [Information] End session request validation success
EndSessionRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", SubjectId: "04f9ab28-ba5d-4318-9b74-6d243903760e", PostLogOutUri: "https://localhost:44337/authentication/logout-callback", State: "b1159799da024969bb4f775fe675ef8d", Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "https://localhost:44337/authentication/logout-callback"), ("state": "b1159799da024969bb4f775fe675ef8d")] }
2020-07-20 00:24:34.412 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:24:34.414 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 00:24:34.417 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "openid", State: "524b73516f1d4c89b4a94c805546a522", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "openid"), ("state": "524b73516f1d4c89b4a94c805546a522"), ("code_challenge": "CxGk5NEQrwoPs0IbDkinEKL5Fy0zH12_JV3yh9StAAE"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 00:24:34.418 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "openid", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "8000002a-0003-fa00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:24:34, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:24:34.613 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:24:34.614 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 00:24:34.615 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "openid", State: "c75c894608814e48bae438069442e776", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "openid"), ("state": "c75c894608814e48bae438069442e776"), ("code_challenge": "pSnTt265SKNBkdZPVgGww-mxpu0nTwuj41sTFgtpCSo"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 00:24:34.615 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "openid", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000027-0000-fc00-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:24:34, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:24:47.472 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:24:47.506 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:24:47.507 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 00:24:47.507 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "b7756bb4500b40029dec531e3772a3e7", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "b7756bb4500b40029dec531e3772a3e7"), ("code_challenge": "uON61U-9rOFbydbVb1HhDH_k9IiUZ1FSsg65sQGf-ow"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 00:24:47.508 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000050-0002-f400-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:24:47, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:24:51.911 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:24:51.933 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:24:51.934 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 00:26:30.217 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:26:30.272 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 00:26:30.295 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****iTDY" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000020-0001-f300-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:26:30, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:26:34.692 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:26:34.704 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 00:26:34.705 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000029-0002-f300-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:26:34, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:26:34.719 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "lY-oOz4TEdfbPpP4XD6OKWQvBFozO373u1b6vbriTDY", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "lY-oOz4TEdfbPpP4XD6OKWQvBFozO373u1b6vbriTDY"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "2c8aeaadc7374e8886da6d353cdc5e93d305a3dcc29f4f318a72e4e9573f297a34be4e0e94b6466dbc8a7e57e8282573"), ("grant_type": "authorization_code")] }
2020-07-20 00:26:34.725 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****F3XQ" }, Token { TokenType: "access_token", TokenValue: "****4KHg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000029-0002-f300-b63f-84710c7967bb", TimeStamp: 07/19/2020 22:26:34, ProcessId: 16836, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 00:26:34.736 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 00:26:34.745 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 00:26:34.755 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:26:55.218 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:26:55.259 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:26:55.263 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 00:26:55.310 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:26:55.318 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 00:26:55.330 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 09:01:57.373 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 09:01:58.422 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 09:03:43.149 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 09:03:43.379 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 09:03:44.368 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****cbvg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000040-0003-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 07:03:44, ProcessId: 9248, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 09:03:49.035 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 09:03:49.054 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 09:03:49.093 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000031-0002-f900-b63f-84710c7967bb", TimeStamp: 07/20/2020 07:03:49, ProcessId: 9248, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 09:03:49.223 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "yYtkobJ3aks28htngFU1K6qj0PJkLAh4OsT63RQcbvg", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "yYtkobJ3aks28htngFU1K6qj0PJkLAh4OsT63RQcbvg"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "6edde03711af4bdd88fb6d16431b5d31840bb903732e4987808eda88a1b192ac50c345e453394108b61fd7c7bd430d28"), ("grant_type": "authorization_code")] }
2020-07-20 09:03:49.718 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****3qVg" }, Token { TokenType: "access_token", TokenValue: "****py5A" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000031-0002-f900-b63f-84710c7967bb", TimeStamp: 07/20/2020 07:03:49, ProcessId: 9248, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 09:03:49.779 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 09:03:49.803 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 09:03:49.850 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 09:03:58.080 +02:00 [Information] Invoking IdentityServer endpoint: "Microsoft.AspNetCore.ApiAuthorization.IdentityServer.AutoRedirectEndSessionEndpoint" for "/connect/endsession"
2020-07-20 09:03:58.106 +02:00 [Information] End session request validation success
EndSessionRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", PostLogOutUri: "https://localhost:44337/authentication/logout-callback", State: "0523dfe65ae54118ac04b54a329d5731", Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "https://localhost:44337/authentication/logout-callback"), ("state": "0523dfe65ae54118ac04b54a329d5731")] }
2020-07-20 09:04:04.249 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 09:04:04.298 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 09:04:04.300 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 09:04:04.303 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "64c06de2dffb491e903abf43f9dc5ef2", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "64c06de2dffb491e903abf43f9dc5ef2"), ("code_challenge": "I0x6kXyqG1PuaETSYNkHDCp1sUn8XpzSSj_cPKpDoV4"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 09:04:04.305 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000021-0003-fe00-b63f-84710c7967bb", TimeStamp: 07/20/2020 07:04:04, ProcessId: 9248, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 09:04:08.835 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 09:04:08.898 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 09:04:08.899 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 09:21:26.413 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 09:21:26.718 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 09:22:12.468 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 09:22:12.813 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 09:22:12.904 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 09:22:12.916 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "38773447c6bb41c4ae772ce70663d1bf", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "38773447c6bb41c4ae772ce70663d1bf"), ("code_challenge": "rHbwwF9VheQBWR66_DKbfk9YZe28ESww1O3a5J-27YA"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 09:22:12.925 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000010-0002-f200-b63f-84710c7967bb", TimeStamp: 07/20/2020 07:22:12, ProcessId: 19696, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 09:22:18.014 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 09:22:18.015 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 16:03:20.718 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 16:03:22.453 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 16:04:41.257 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 16:04:41.990 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 16:04:42.176 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 16:04:42.226 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "3092431c001d4e18b602b55f355203ec", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "3092431c001d4e18b602b55f355203ec"), ("code_challenge": "r1pUibiC0bNXQXR6EC4NDctmYl11EyMj18yXM1bpFlA"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 16:04:42.292 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000143-0002-f600-b63f-84710c7967bb", TimeStamp: 07/20/2020 14:04:42, ProcessId: 2524, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 16:04:46.947 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 16:04:47.013 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 16:04:47.014 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 16:06:54.210 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 16:06:54.276 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 16:06:54.958 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****616A" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "800000be-0003-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 14:06:54, ProcessId: 2524, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 16:06:59.550 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 16:06:59.585 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "800000c2-0003-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 14:06:59, ProcessId: 2524, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 16:06:59.786 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "wZAZjjW1Tj47cbmqqBjC9cBtP-1cfVG5W1I8BW_616A", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "wZAZjjW1Tj47cbmqqBjC9cBtP-1cfVG5W1I8BW_616A"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "a15aa4e7d5a54ac19591ec88774113de161a4f60af2a4d96bb2198667fd60a690f02721a110c48d186e46687843152d1"), ("grant_type": "authorization_code")] }
2020-07-20 16:07:00.094 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "5ccf29d1-8414-4829-9b1a-b06eba6257b6", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****hygQ" }, Token { TokenType: "access_token", TokenValue: "****3OJQ" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "800000c2-0003-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 14:07:00, ProcessId: 2524, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 16:07:00.182 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 16:07:00.210 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 16:07:00.267 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 16:07:05.432 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 16:07:05.454 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 16:07:05.474 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 16:07:05.483 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 16:07:05.501 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 16:37:54.193 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 16:37:54.717 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 16:40:52.572 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 16:40:52.771 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 16:57:24.074 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 16:57:25.331 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 16:59:28.766 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 17:01:15.985 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:01:16.454 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:01:16.572 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 17:01:16.581 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "e40ffef3df514100b9719d0039262912", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "e40ffef3df514100b9719d0039262912"), ("code_challenge": "45Qr5mdpdJP4sqZMjiR1lRbJjXh0FAd0vcSNIlVvTA8"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 17:01:16.610 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "8000010a-0000-fe00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:01:16, ProcessId: 17976, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:01:21.251 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:01:21.252 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 17:04:02.500 +02:00 [Information] Starting IdentityServer4 version "3.0.0.0"
2020-07-20 17:04:03.102 +02:00 [Information] Using explicitly configured authentication scheme "Identity.Application" for IdentityServer
2020-07-20 17:06:04.331 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 17:08:12.278 +02:00 [Error] An unhandled exception has occurred while executing the request.
System.TimeoutException: The Angular CLI process did not start listening for requests within the timeout period of 0 seconds. Check the log output for error information.
   at Microsoft.AspNetCore.SpaServices.Extensions.Util.TaskTimeoutExtensions.WithTimeout[T](Task`1 task, TimeSpan timeoutDelay, String message)
   at Microsoft.AspNetCore.SpaServices.Extensions.Proxy.SpaProxy.PerformProxyRequest(HttpContext context, HttpClient httpClient, Task`1 baseUriTask, CancellationToken applicationStoppingToken, Boolean proxy404s)
   at Microsoft.AspNetCore.Builder.SpaProxyingExtensions.<>c__DisplayClass2_0.<<UseProxyToSpaDevelopmentServer>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-07-20 17:10:25.538 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:10:26.136 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:10:26.506 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 17:10:26.515 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "f62eb9ceb6514861abff41557fb92704", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "f62eb9ceb6514861abff41557fb92704"), ("code_challenge": "bAjOqGe1XOiR3JAoDBX6NecJCjJW6p27zUaaicq_gEA"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 17:10:26.595 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "80000013-0001-f900-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:10:26, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:10:31.601 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:10:31.606 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:10:31.611 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 17:10:52.632 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:10:52.736 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:10:56.034 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "6a9e64a0-80bf-4a2d-be46-ec52e8f9e32e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****HJsY" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "8000002a-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:10:56, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:00.601 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 17:11:00.615 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000030-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:00, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:00.802 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "JIYBVK6xNQ2KCS5HGQg6dEy3gErlrqsMsXwRDozHJsY", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "JIYBVK6xNQ2KCS5HGQg6dEy3gErlrqsMsXwRDozHJsY"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "91a3fbfd30cf4a8cb4ba30e487dcccc7f48095cbf3004dde8cb726be6ecab7614483393e0f054b17a8a58cca6888b083"), ("grant_type": "authorization_code")] }
2020-07-20 17:11:01.051 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "6a9e64a0-80bf-4a2d-be46-ec52e8f9e32e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****yFRA" }, Token { TokenType: "access_token", TokenValue: "****9u1g" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000030-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:01, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:01.151 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 17:11:01.182 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 17:11:01.220 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
2020-07-20 17:11:03.416 +02:00 [Information] Invoking IdentityServer endpoint: "Microsoft.AspNetCore.ApiAuthorization.IdentityServer.AutoRedirectEndSessionEndpoint" for "/connect/endsession"
2020-07-20 17:11:03.435 +02:00 [Information] End session request validation success
EndSessionRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", SubjectId: "6a9e64a0-80bf-4a2d-be46-ec52e8f9e32e", PostLogOutUri: "https://localhost:44337/authentication/logout-callback", State: "61c6af5766f04e0b95876cbfee84507d", Raw: [("id_token_hint": "***REDACTED***"), ("post_logout_redirect_uri": "https://localhost:44337/authentication/logout-callback"), ("state": "61c6af5766f04e0b95876cbfee84507d")] }
2020-07-20 17:11:09.097 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:11:09.156 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:11:09.159 +02:00 [Information] Showing error: prompt=none was requested but user is not authenticated
2020-07-20 17:11:09.160 +02:00 [Information] AuthorizeRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", AllowedRedirectUris: ["/authentication/login-callback"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "query", GrantType: "authorization_code", RequestedScopes: "ToDoListAPI openid profile", State: "fbf1da3066364ab5b8e3390a4ec5fb07", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "none", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "ToDoList"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("response_type": "code"), ("scope": "ToDoListAPI openid profile"), ("state": "fbf1da3066364ab5b8e3390a4ec5fb07"), ("code_challenge": "vBXZsXl6Z3RjKAxztd3ji6Wjo2t72Rz4hIV-O2-c0AA"), ("code_challenge_method": "S256"), ("prompt": "none"), ("response_mode": "query")] }
2020-07-20 17:11:09.161 +02:00 [Information] TokenIssuedFailureEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: null, Scopes: "ToDoListAPI openid profile", GrantType: "authorization_code", Error: "login_required", ErrorDescription: null, Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "8000003e-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:09, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:13.595 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
2020-07-20 17:11:13.597 +02:00 [Information] Showing login: User is not authenticated
2020-07-20 17:11:20.908 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
2020-07-20 17:11:20.923 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: "https://localhost:44337/authentication/login-callback", Endpoint: "Authorize", SubjectId: "6a9e64a0-80bf-4a2d-be46-ec52e8f9e32e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****GU4g" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "800000ef-0000-fd00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:20, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:25.821 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
2020-07-20 17:11:25.831 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
2020-07-20 17:11:25.831 +02:00 [Information] ClientAuthenticationSuccessEvent { ClientId: "ToDoList", AuthenticationMethod: "NoSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "80000044-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:25, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:25.851 +02:00 [Information] Token request validation success, TokenRequestValidationLog { ClientId: "ToDoList", ClientName: "ToDoList", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "q9A_yh8053_CbF6Til_wEZCUpF3fqDmtdGMeARUGU4g", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "ToDoList"), ("code": "q9A_yh8053_CbF6Til_wEZCUpF3fqDmtdGMeARUGU4g"), ("redirect_uri": "https://localhost:44337/authentication/login-callback"), ("code_verifier": "b77a0dc9a24d4594b2e087cec074500c9047d830baf54ab0bc0b68f2b020188d72ec73654d2645c5a28857caf919d957"), ("grant_type": "authorization_code")] }
2020-07-20 17:11:25.862 +02:00 [Information] TokenIssuedSuccessEvent { ClientId: "ToDoList", ClientName: "ToDoList", RedirectUri: null, Endpoint: "Token", SubjectId: "6a9e64a0-80bf-4a2d-be46-ec52e8f9e32e", Scopes: "openid profile ToDoListAPI", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****xcIw" }, Token { TokenType: "access_token", TokenValue: "****nb_A" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "80000044-0002-fb00-b63f-84710c7967bb", TimeStamp: 07/20/2020 15:11:25, ProcessId: 5512, LocalIpAddress: "::1:44337", RemoteIpAddress: "::1" }
2020-07-20 17:11:25.877 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
2020-07-20 17:11:25.883 +02:00 [Information] Profile service returned the following claim types: "sub preferred_username name"
2020-07-20 17:11:25.898 +02:00 [Information] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.CheckSessionEndpoint" for "/connect/checksession"
